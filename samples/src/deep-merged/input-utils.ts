/**
 * This file was automatically generated by apify-schema-tools.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

import { Actor } from 'apify';
import type { Input, Categories, MaximumPages, ProxyConfiguration, MaximumRetries, DebugMode } from './input.js';

export const DEFAULT_INPUT_VALUES = {
    "startUrls": [],
    "categories": [],
    "maxPages": 10,
    "proxy": {
        "useApifyProxy": true
    },
    "maxRetries": 3,
    "debugMode": false
};

export const REQUIRED_INPUT_FIELDS_WITHOUT_DEFAULT = ["searchTerm"];

export type InputWithDefaults = Input & {
  categories: Categories;
  maxPages: MaximumPages;
  proxy: ProxyConfiguration;
  maxRetries: MaximumRetries;
  debugMode: DebugMode;
};

export function getInputWithDefaultValues(input?: Input | null): InputWithDefaults {
    if (Actor.isAtHome()) {
        // The platform is supposed to fill in the default values
        return input! as InputWithDefaults;
    }
    if (!input) {
        throw new Error('Input is required, because the following fields are required: ' + REQUIRED_INPUT_FIELDS_WITHOUT_DEFAULT.join(', '));
    }
    return {
        ...DEFAULT_INPUT_VALUES,
        ...input,
    };
}
